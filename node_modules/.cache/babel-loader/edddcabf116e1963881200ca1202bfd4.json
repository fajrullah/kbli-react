{"ast":null,"code":"import axios from 'axios';\nexport default function withStoredHeaders() {\n  axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n  axios.defaults.xsrfCookieName = \"csrftoken\";\n  var token = localStorage.getItem('token');\n  var bytes = CryptoJS.AES.decrypt(token, '4sri');\n  var decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n  return axios.create({\n    baseURL: 'http://localhost:4000/',\n    headers: {\n      'Authorization': \"Bearer \".concat(decryptedData.token)\n    }\n  });\n}","map":{"version":3,"sources":["/home/development/Documents/JunkProc/kbli-react/src/utils/AxiosHeader.js"],"names":["axios","withStoredHeaders","defaults","xsrfHeaderName","xsrfCookieName","token","localStorage","getItem","bytes","CryptoJS","AES","decrypt","decryptedData","JSON","parse","toString","enc","Utf8","create","baseURL","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,iBAAT,GAA6B;AAC1CD,EAAAA,KAAK,CAACE,QAAN,CAAeC,cAAf,GAAgC,aAAhC;AACAH,EAAAA,KAAK,CAACE,QAAN,CAAeE,cAAf,GAAgC,WAAhC;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAMC,KAAK,GAAIC,QAAQ,CAACC,GAAT,CAAaC,OAAb,CAAqBN,KAArB,EAA4B,MAA5B,CAAf;AACA,MAAMO,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWN,KAAK,CAACO,QAAN,CAAeN,QAAQ,CAACO,GAAT,CAAaC,IAA5B,CAAX,CAAtB;AAEA,SAAOjB,KAAK,CAACkB,MAAN,CAAa;AACnBC,IAAAA,OAAO,EAAE,wBADU;AAElBC,IAAAA,OAAO,EAAE;AACP,wCAA4BR,aAAa,CAACP,KAA1C;AADO;AAFS,GAAb,CAAP;AAMD","sourcesContent":["import axios from 'axios'\n\nexport default function withStoredHeaders() {\n  axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n  axios.defaults.xsrfCookieName = \"csrftoken\";\n  const token = localStorage.getItem('token');\n  const bytes  = CryptoJS.AES.decrypt(token, '4sri');\n  const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n\n  return axios.create({\n  \tbaseURL: 'http://localhost:4000/',\n    headers: {\n      'Authorization' : `Bearer ${decryptedData.token}`,\n    },\n  })\n}\n\n"]},"metadata":{},"sourceType":"module"}