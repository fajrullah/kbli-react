{"ast":null,"code":"import _defineProperty from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/development/Documents/JunkProc/kbli-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/development/Documents/JunkProc/kbli-react/src/views/Graph/Graph.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Form, Input, Badge, Card, CardBody, CardHeader, Col, Row, Table, Button, Alert, Modal, ModalHeader, ModalBody, ModalFooter, InputGroup, InputGroupAddon, InputGroupText } from 'reactstrap';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport * as moment from 'moment/moment';\nimport { connect } from 'react-redux';\nimport { fetchingDataAPI, putDataAPI, deleteData, postingDataAPI } from '../../utils/AxiosMethod';\nimport { toDateTimeLocal, toDateTimeLocalDB } from '../../utils/Helper';\nimport { actionCheckExpired, deleteUser, deleteToken, setAuthenticated } from '../../utils/Action';\nimport { Redirect } from 'react-router-dom';\nimport { Data } from '../../utils/Data';\nimport Select from 'react-select';\nimport Chart from 'react-apexcharts';\nvar contentData = [];\n\nvar CryptoJS = require(\"crypto-js\");\n\nfunction generateDayWiseTimeSeries(baseval, count, yrange) {\n  var i = 0;\n  var series = [];\n\n  while (i < count) {\n    var x = baseval;\n    var y = Math.floor(Math.random() * (yrange.max - yrange.min + 1)) + yrange.min;\n    series.push([x, y]);\n    baseval += 86400000;\n    i++;\n  }\n\n  return series;\n} // The global window.Apex variable below can be used to set common options for all charts on the page\n\n\nvar Apex = {\n  dataLabels: {\n    enabled: false\n  },\n  stroke: {\n    curve: 'straight'\n  },\n  toolbar: {\n    tools: {\n      selection: false\n    }\n  },\n  markers: {\n    size: 6,\n    hover: {\n      size: 10\n    }\n  },\n  tooltip: {\n    followCursor: false,\n    theme: 'dark',\n    x: {\n      show: false\n    },\n    marker: {\n      show: false\n    },\n    y: {\n      title: {\n        formatter: function formatter() {\n          return '';\n        }\n      }\n    }\n  },\n  grid: {\n    clipMarkers: false\n  },\n  yaxis: {\n    tickAmount: 2\n  },\n  xaxis: {\n    type: 'datetime'\n  }\n};\n\nvar createOption = function createOption(label, value) {\n  return {\n    label: label,\n    value: value\n  };\n};\n\nvar Graph =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Graph, _Component);\n\n  function Graph(props) {\n    var _this;\n\n    _classCallCheck(this, Graph);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Graph).call(this, props));\n\n    _this.handleChangeSelectOpt = function (selectedOption) {\n      if (selectedOption !== null) {\n        console.log(selectedOption);\n      }\n\n      _this.setState({\n        selectedOption: selectedOption\n      });\n    };\n\n    _this.onChangeDatePicker = function (event, picker) {\n      var dataTime = {\n        start: toDateTimeLocalDB(picker.startDate._d),\n        end: toDateTimeLocalDB(picker.endDate._d)\n      };\n\n      if (event.handleObj.type === 'apply') {\n        postingDataAPI('/user/createtime', dataTime).then(function (res) {\n          return res.data;\n        }).then(function (data) {\n          _this.setState({\n            data: data,\n            postData: {\n              isFetching: true,\n              status: 'info',\n              notification: \"Success Filtered Data From \".concat(dataTime.start, \" to \").concat(dataTime.end)\n            },\n            labelCal: \"\".concat(dataTime.start, \" s/d \").concat(dataTime.end)\n          });\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    };\n\n    _this.state = {\n      data: [],\n      startDateDR: moment().subtract(30, 'days'),\n      endDate: moment(),\n      labelCal: 'Filter By Date',\n      modal: false,\n      token: '',\n      level: '',\n      selectedOption: null,\n      selectedOptionValue: [],\n      postData: {\n        notification: '',\n        isFetching: true,\n        status: '',\n        visible: true\n      },\n      cellEditProp: {\n        mode: 'click',\n        blurToSave: true,\n        afterSaveCell: _this.onAfterSaveCell // a hook for after saving cell\n\n      },\n      series: [{\n        name: \"Max Price\",\n        data: [12, 20, 420, 102, 22, 402]\n      }, {\n        name: \"Min Price\",\n        data: [10, 20, 40, 102, 203, 402]\n      }],\n      chartOptionsArea: {\n        chart: {\n          id: 'yt',\n          group: 'social',\n          type: 'area',\n          toolbar: {\n            show: true\n          },\n          shadow: {\n            enabled: true,\n            color: '#000',\n            top: 18,\n            left: 7,\n            blur: 10,\n            opacity: 1\n          },\n          zoom: {\n            enabled: true\n          }\n        },\n        responsive: [{\n          breakpoint: 480,\n          options: {\n            legend: {\n              show: true,\n              position: 'bottom',\n              offsetX: -10 // offsetY: 0\n\n            }\n          }\n        }],\n        fill: {\n          opacity: 1\n        },\n        colors: ['#00E396', '#545454'],\n        dataLabels: {\n          enabled: true\n        },\n        stroke: {\n          curve: 'smooth'\n        },\n        title: {\n          text: 'Klasifikasi Baku Lapangan Usaha Indonesia',\n          align: 'left'\n        },\n        grid: {\n          borderColor: '#e7e7e7',\n          row: {\n            colors: ['#f3f3f3', 'transparent'],\n            // takes an array which will be repeated on columns\n            opacity: 0.5\n          }\n        },\n        markers: {\n          size: 6\n        },\n        yaxis: {\n          labels: {\n            minWidth: 10\n          },\n          tickAmount: 2\n        },\n        xaxis: {\n          type: 'datetime',\n          categories: ['2019-05-01', '2019-05-11', '2019-06-12', '2019-06-21', '2019-07-01', '2019-07-12']\n        }\n      }\n    };\n    _this.onChangeDatePicker = _this.onChangeDatePicker.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Graph, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this$props = this.props,\n          token = _this$props.token,\n          isAuthenticated = _this$props.isAuthenticated;\n      this.props.checkToken(token.token);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          isAuthenticated = _this$props2.isAuthenticated,\n          level = _this$props2.level;\n      var generateData = Data();\n      var selectedOptionValue = [];\n      var categories = generateData.map(function (key) {\n        selectedOptionValue.push(createOption(\"Max Price \".concat(key.toString()), \"max_price_\".concat(key.toString())));\n        selectedOptionValue.push(createOption(\"Min Price \".concat(key.toString()), \"min_price_\".concat(key.toString())));\n        return key.toString();\n      });\n      console.log(selectedOptionValue);\n\n      if (isAuthenticated) {\n        postingDataAPI('/kbli/sps', {\n          level_1: 5\n        }).then(function (result) {\n          return result.data;\n        }).then(function (result) {\n          var json = JSON.parse(result.price);\n          var data = json.map(function (key) {\n            return key.min_price;\n          });\n          console.log(data);\n\n          _this2.setState({\n            selectedOptionValue: selectedOptionValue,\n            chartOptionsArea: _objectSpread({}, _this2.state.chartOptionsArea, {\n              xaxis: _objectSpread({}, _this2.state.chartOptionsArea.xaxis, {\n                categories: categories\n              })\n            }),\n            series: [{\n              name: \"First\",\n              data: data\n            }]\n          });\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          selectedOption = _this$state.selectedOption,\n          selectedOptionValue = _this$state.selectedOptionValue;\n\n      if (!this.props.isAuthenticated) {\n        return React.createElement(Redirect, {\n          to: \"/login\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 258\n          },\n          __self: this\n        });\n      }\n\n      if (this.props.isAuthenticated && this.props.level !== 1) {\n        return React.createElement(Redirect, {\n          to: \"/dashboard\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Row, {\n        xs: \"12\",\n        lg: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        lg: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(CardHeader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"icon-info pr-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), \"Graph\")), React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        wdith: \"40%\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(Select, {\n        value: selectedOption,\n        onChange: this.handleChangeSelectOpt,\n        options: selectedOptionValue,\n        isSearchable: true,\n        placeholder: \"Select ...\",\n        isMulti: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, React.createElement(Chart, {\n        type: \"area\",\n        options: this.state.chartOptionsArea,\n        series: this.state.series,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return Graph;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isAuthenticated: state.isAuthenticated,\n    token: state.token,\n    level: state.user.level\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    checkToken: function checkToken(values) {\n      return dispatch(actionCheckExpired(values));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Graph);","map":{"version":3,"sources":["/home/development/Documents/JunkProc/kbli-react/src/views/Graph/Graph.js"],"names":["React","Component","Form","Input","Badge","Card","CardBody","CardHeader","Col","Row","Table","Button","Alert","Modal","ModalHeader","ModalBody","ModalFooter","InputGroup","InputGroupAddon","InputGroupText","BootstrapTable","TableHeaderColumn","DateRangePicker","moment","connect","fetchingDataAPI","putDataAPI","deleteData","postingDataAPI","toDateTimeLocal","toDateTimeLocalDB","actionCheckExpired","deleteUser","deleteToken","setAuthenticated","Redirect","Data","Select","Chart","contentData","CryptoJS","require","generateDayWiseTimeSeries","baseval","count","yrange","i","series","x","y","Math","floor","random","max","min","push","Apex","dataLabels","enabled","stroke","curve","toolbar","tools","selection","markers","size","hover","tooltip","followCursor","theme","show","marker","title","formatter","grid","clipMarkers","yaxis","tickAmount","xaxis","type","createOption","label","value","Graph","props","handleChangeSelectOpt","selectedOption","console","log","setState","onChangeDatePicker","event","picker","dataTime","start","startDate","_d","end","endDate","handleObj","then","res","data","postData","isFetching","status","notification","labelCal","catch","err","state","startDateDR","subtract","modal","token","level","selectedOptionValue","visible","cellEditProp","mode","blurToSave","afterSaveCell","onAfterSaveCell","name","chartOptionsArea","chart","id","group","shadow","color","top","left","blur","opacity","zoom","responsive","breakpoint","options","legend","position","offsetX","fill","colors","text","align","borderColor","row","labels","minWidth","categories","bind","isAuthenticated","checkToken","generateData","map","key","toString","level_1","result","json","JSON","parse","price","min_price","mapStateToProps","user","mapDispatchToProps","dispatch","values"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, Input, Badge, Card, CardBody, CardHeader, Col, Row, Table, Button , Alert, Modal, ModalHeader, ModalBody, ModalFooter, InputGroup , InputGroupAddon , InputGroupText } from 'reactstrap';\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\nimport 'react-bootstrap-table/dist/react-bootstrap-table.min.css';\nimport DateRangePicker from 'react-bootstrap-daterangepicker';\nimport 'bootstrap-daterangepicker/daterangepicker.css';\nimport * as moment from 'moment/moment';\nimport { connect } from 'react-redux';\nimport { fetchingDataAPI , putDataAPI , deleteData , postingDataAPI } from '../../utils/AxiosMethod';\nimport { toDateTimeLocal, toDateTimeLocalDB } from '../../utils/Helper';\nimport { actionCheckExpired , deleteUser, deleteToken, setAuthenticated  } from '../../utils/Action';\nimport { Redirect } from 'react-router-dom';\nimport { Data } from '../../utils/Data';\nimport Select from 'react-select';\nimport Chart from 'react-apexcharts'\nlet contentData = []\nconst CryptoJS = require(\"crypto-js\");\nfunction generateDayWiseTimeSeries(baseval, count, yrange) {\n      var i = 0;\n      var series = [];\n      while (i < count) {\n        var x = baseval;\n        var y = Math.floor(Math.random() * (yrange.max - yrange.min + 1)) + yrange.min;\n\n        series.push([x, y]);\n        baseval += 86400000;\n        i++;\n      }\n      return series;\n    }\n\n    // The global window.Apex variable below can be used to set common options for all charts on the page\nconst Apex = {\n      dataLabels: {\n        enabled: false\n      },\n      stroke: {\n        curve: 'straight'\n      },\n      toolbar: {\n        tools: {\n          selection: false\n        }\n      },\n      markers: {\n        size: 6,\n        hover: {\n          size: 10\n        }\n      },\n      tooltip: {\n        followCursor: false,\n        theme: 'dark',\n        x: {\n          show: false\n        },\n        marker: {\n          show: false\n        },\n        y: {\n          title: {\n            formatter: function () {\n              return ''\n            }\n          }\n        }\n      },\n      grid: {\n        clipMarkers: false\n      },\n      yaxis: {\n        tickAmount: 2\n      },\n      xaxis: {\n        type: 'datetime'\n      },\n    }\n\nconst createOption = (label: string, value) => ({\n  label,\n  value: value,\n});\n\nclass Graph extends Component {\n constructor(props) {\n   super(props);\n   this.state = {\n        data : [],\n        startDateDR: moment().subtract(30, 'days'),\n        endDate: moment(),\n        labelCal: 'Filter By Date',\n        modal: false,\n        token : '',\n        level : '',\n        selectedOption: null,\n        selectedOptionValue: [],\n        postData : {\n          notification : '',\n          isFetching : true,\n          status : '',\n          visible: true,\n        },\n        cellEditProp : {\n          mode: 'click',\n          blurToSave: true,\n          afterSaveCell: this.onAfterSaveCell // a hook for after saving cell\n        },\n        series: [{\n          name: \"Max Price\",\n          data: [12,20,420,102,22,402]\n        },{\n          name: \"Min Price\",\n          data: [10,20,40,102,203,402]\n        }],\n        chartOptionsArea: {\n          chart: {\n            id: 'yt',\n            group: 'social',\n            type: 'area',\n            toolbar: {\n                show: true\n              },\n            shadow: {\n              enabled: true,\n              color: '#000',\n              top: 18,\n              left: 7,\n              blur: 10,\n              opacity: 1\n            },\n            zoom: {\n              enabled: true\n            }\n          },\n          responsive: [{\n              breakpoint: 480,\n              options: {\n                legend: {\n                  show:true,\n                  position: 'bottom',\n                  offsetX: -10,\n                  // offsetY: 0\n                }\n              }\n            }],\n           fill: {\n              opacity: 1,\n            },\n          colors: ['#00E396','#545454'],\n          dataLabels: {\n              enabled: true,\n          },\n          stroke: {\n            curve: 'smooth'\n          },\n          title: {\n            text: 'Klasifikasi Baku Lapangan Usaha Indonesia',\n            align: 'left'\n          },\n          grid: {\n            borderColor: '#e7e7e7',\n            row: {\n              colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns\n              opacity: 0.5\n            },\n          },\n          markers: {\n            size: 6\n          },\n          yaxis: {\n              labels : {\n                minWidth : 10\n              },\n              tickAmount: 2\n            },\n          xaxis: {\n            type: 'datetime',\n            categories: ['2019-05-01', '2019-05-11', '2019-06-12', '2019-06-21',\n              '2019-07-01', '2019-07-12'\n            ],\n          },\n        }\n   };\n\n   this.onChangeDatePicker = this.onChangeDatePicker.bind(this);\n }\n  handleChangeSelectOpt = selectedOption => {\n    if(selectedOption !== null){\n      console.log(selectedOption)\n    }\n    this.setState({ selectedOption });\n  };\n  onChangeDatePicker = (event, picker) =>{\n      const dataTime = {\n          start : toDateTimeLocalDB(picker.startDate._d),\n          end : toDateTimeLocalDB(picker.endDate._d)\n      }\n      if(event.handleObj.type === 'apply'){\n        postingDataAPI('/user/createtime',dataTime).then(res => {\n          return res.data\n        })\n        .then(data => {\n          this.setState({data,\n                postData : {\n                  isFetching : true,\n                  status : 'info',\n                  notification : `Success Filtered Data From ${dataTime.start} to ${dataTime.end}`\n              },\n              labelCal: (`${dataTime.start} s/d ${dataTime.end}`)\n          })\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n componentWillUnmount(){\n\n }\n\n componentWillMount(){\n  const { token , isAuthenticated } = this.props\n  this.props.checkToken(token.token)\n}\n componentDidMount(){\n  const { isAuthenticated , level } = this.props\n  const generateData = Data()\n  let selectedOptionValue = []\n  const categories = generateData.map(key => {\n    selectedOptionValue.push(createOption(`Max Price ${key.toString()}`,`max_price_${key.toString()}`))\n    selectedOptionValue.push(createOption(`Min Price ${key.toString()}`,`min_price_${key.toString()}`))\n    return key.toString()\n  })\n  console.log(selectedOptionValue)\n  if(isAuthenticated){\n    postingDataAPI('/kbli/sps',{ level_1:5 }).then(result => result.data)\n    .then(result => {\n        const json = JSON.parse(result.price)\n        const data =  json.map(key => key.min_price)\n        console.log(data)\n        this.setState({\n          selectedOptionValue,\n          chartOptionsArea : {\n              ...this.state.chartOptionsArea,\n            xaxis : {\n              ...this.state.chartOptionsArea.xaxis,\n              categories,\n            }\n          },\n          series : [{ name : \"First\", data}]\n        })\n    })\n    .catch(err => console.log(err));\n  }\n }\n  render() {\n    const { selectedOption , selectedOptionValue } = this.state\n     if (!this.props.isAuthenticated) {\n      return (<Redirect to=\"/login\" />);\n    }\n     if (this.props.isAuthenticated && this.props.level !== 1) {\n      return (<Redirect to=\"/dashboard\" />);\n    }\n    return (\n      <div className=\"animated fadeIn\">\n        <Row xs=\"12\" lg=\"12\">\n          <Col xs=\"12\" lg=\"12\">\n            <Card>\n              <CardHeader>\n                <strong><i className=\"icon-info pr-1\"></i>Graph</strong>\n              </CardHeader>\n              <CardBody>\n                  <div className='form-group' wdith=\"40%\">\n                    <Select\n                      value={selectedOption}\n                      onChange={this.handleChangeSelectOpt}\n                      options={selectedOptionValue}\n                      isSearchable = {true}\n                      placeholder = \"Select ...\"\n                      isMulti={true}\n                    />\n                  </div>\n                  <div id=\"wrapper\">\n                      <Chart type=\"area\" options={this.state.chartOptionsArea} series={this.state.series}/>\n                  </div>\n              </CardBody>\n            </Card>\n\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({  isAuthenticated : state.isAuthenticated, token : state.token , level : state.user.level });\nconst mapDispatchToProps = dispatch => {\n  return {\n    checkToken : (values) => dispatch(actionCheckExpired(values)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Graph);\n\n\n"]},"metadata":{},"sourceType":"module"}