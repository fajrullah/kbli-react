{"ast":null,"code":"import axios from 'axios';\n\nvar CryptoJS = require(\"crypto-js\");\n\nexport default function withStoredHeaders() {\n  axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n  axios.defaults.xsrfCookieName = \"csrftoken\";\n  var token = localStorage.getItem('token');\n  var bytes = CryptoJS.AES.decrypt(token, '4sri');\n  var decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n  console.log(decryptedData);\n  return axios.create({\n    baseURL: 'http://localhost:4000/',\n    headers: {\n      'Authorization': \"Bearer \".concat(decryptedData.token)\n    }\n  });\n}","map":{"version":3,"sources":["/home/development/Documents/JunkProc/kbli-react/src/utils/AxiosHeader.js"],"names":["axios","CryptoJS","require","withStoredHeaders","defaults","xsrfHeaderName","xsrfCookieName","token","localStorage","getItem","bytes","AES","decrypt","decryptedData","JSON","parse","toString","enc","Utf8","console","log","create","baseURL","headers"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAxB;;AACA,eAAe,SAASC,iBAAT,GAA6B;AAC1CH,EAAAA,KAAK,CAACI,QAAN,CAAeC,cAAf,GAAgC,aAAhC;AACAL,EAAAA,KAAK,CAACI,QAAN,CAAeE,cAAf,GAAgC,WAAhC;AACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,MAAMC,KAAK,GAAIT,QAAQ,CAACU,GAAT,CAAaC,OAAb,CAAqBL,KAArB,EAA4B,MAA5B,CAAf;AACA,MAAMM,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACM,QAAN,CAAef,QAAQ,CAACgB,GAAT,CAAaC,IAA5B,CAAX,CAAtB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYP,aAAZ;AACA,SAAOb,KAAK,CAACqB,MAAN,CAAa;AACnBC,IAAAA,OAAO,EAAE,wBADU;AAElBC,IAAAA,OAAO,EAAE;AACP,wCAA4BV,aAAa,CAACN,KAA1C;AADO;AAFS,GAAb,CAAP;AAMD","sourcesContent":["import axios from 'axios'\nconst CryptoJS = require(\"crypto-js\");\nexport default function withStoredHeaders() {\n  axios.defaults.xsrfHeaderName = \"X-CSRFTOKEN\";\n  axios.defaults.xsrfCookieName = \"csrftoken\";\n  const token = localStorage.getItem('token');\n  const bytes  = CryptoJS.AES.decrypt(token, '4sri');\n  const decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n  console.log(decryptedData);\n  return axios.create({\n  \tbaseURL: 'http://localhost:4000/',\n    headers: {\n      'Authorization' : `Bearer ${decryptedData.token}`,\n    },\n  })\n}\n\n"]},"metadata":{},"sourceType":"module"}